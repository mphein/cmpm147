<!DOCTYPE html>
<html>
<head>
	<!-- This title is used for tabs and bookmarks -->
	<title>Experiment 3b - Overworld Generator</title>

	<!-- Use UTF character set, a good idea with any webpage -->
	<meta charset="UTF-8" />
	<!-- Set viewport so page remains consistently scaled w narrow devices -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<!-- Include CSS file, including a site-wide CSS and for this particular page -->
	<link rel="stylesheet" type="text/css" href="../css/site.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">

	<!-- Load jQuery library -->
	<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
	<!-- Load p5.js library -->
	<script src="https://cdn.jsdelivr.net/npm/p5@1.9.2/lib/p5.js"></script>

	<!-- Link to javascript files - DEFER waits until all elements are rendered -->
    <script type="text/javascript" src="../js/site.js" DEFER></script>
	<!-- Use me for a JavaScript OOP Project -->
	<script type="text/javascript" src="./js/p2_base.js" DEFER></script>
	<!-- Use me for a p5.js project -->
	<script type="text/javascript" src="./js/p2_solution.js" DEFER></script>
</head>
<body>
	<!-- Style this page by changing the CSS in ../css/site.css or css/experiment.css -->
	<main id="content">
		<section>

			<h1>Experiment 3b - Overworld Generator</h1>

			<div class="minor-section">
				<div id="canvas-container">
					<!-- canvas will be added here -->
					<button id="reseedButton">
						reseed
					</button>
					<span id="seedReport"></span>
					<hr />
					<span id="canvasContainer" style="margin: 10px;"></span>
					<textarea cols="20" rows="20" id="asciiBox" style="opacity: 0.5; letter-spacing: 1ex; width: 320px; margin: 10px; font-family: monospace;"></textarea>
				</div>
				<div>
					
			</div>
				<div class="fullscreen-box">
						<button id="fullscreen">Fullscreen</button>
				</div>
			</div>

			<div class="minor-section">
				<h2>Description</h2>
				<p>In this experiment I learned how to procedurally generate overworld terrain using a tilemap. Using this method I can hopefully learn what aspects of terrain I like and adjust the parameters accordingly. Using the text grid there is the option of live editing levels to further explore possibilities and make edits by hand. There is a snowy terrain and grassy terrain alongside moving clouds and water to add a bit of life to the scene.</p>
				<a href="https://thkaspar.itch.io/micro-tileset-overworld-dungeon">Micro Tilset by thkaspar</a>
				<ul> Codes
					<li> 'w' = water tile
					<li> 'g' = dark grass/ice tile
					<li> '.' = tree
			</div>

			<div class="minor-section">
				<h2>Technical</h2>
				<p>I first generated a grid of floor tiles represented by '_'. In this same function I called generatePaths() and placeBlock(). We were instructed to create a rectangular room or plot of land to begin with, but I found it much easier to first generate a random path throughout the terrain which can be shortened or elongated easily by manipulating the maxSteps value. These tiles will have their value in the grid changed to '.' which later became trees in this example, but this can be edited to be any tile or group of tiles. placeBlock is then called twice in this example to place a random size circular shape within the grid. The same is done with dark grass tiles. I then fill in the grid either by placing tiles from a set of tiles in mind or by autotiling.
					Using the drawContext function I am able to place corner or side tiles based on the context of my target tile. The lookup table references the starting tile's position. From there I was able to adjust the x and y coordinates to find the corresponding tiles in the tilemap. I repeat this process with the dark grass, trees, and water. There is also a random value generated at the beginning of the drawGrid method which will decide if the tiles to be rendered will be grassy or snowy. 
				</p>
			</div>

			<div class="minor-section">
				<h2>Reflection</h2>
				<p>I learned a lot from this experiment. I did the underground dungeon first and improved significantly on the overworld second version. I think I was able to more deeply understand the drawContext and lookup table the second time. I really struggled with using the tileMap at first and understanding the different functions like drawGrid, drawContext and what to put in generateGrid to give me a good foundation. I played around with different methods of placing blocks such as rectangles, but as I mentioned it was easier to place blocks on or near the path especially for the dungeon to be completely connected and accessible. I feel like I learned a significant amount about how to generate a grid, place tiles, and using context and autotiling to really give the generated content a sense of polish. I also am gaining confidence in adding life to my creations using random values, time, and mouse movement.</p>
			</div>

		</section>
		<nav id="links" class="minor-section">
			<!-- Put link back to homepage here. -->
            <ul>
							  <li><a href="../experiment3a/index.html">Experiment 3a</a></li>
                <li><a href="../index.html">Home</a></li>
            </ul>
		</nav>
	</main>
</body>
</html>
